<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Simple Firefly synchronization simulation.">
    <meta name="author" content="Kadi Kraman">

    <title>Firefly Synchronization fun</title>

    <!-- Bootstrap Core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/grayscale.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <!-- Custom Fonts -->
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" onresize="load()">

<!-- Navigation -->
<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                <i class="fa fa-bars"></i>
            </button>
            <a class="navbar-brand page-scroll" href="#page-top">
                Firefly Synchronisation
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
            <ul class="nav navbar-nav">
                <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li>
                    <a class="page-scroll" href="#about">What's this?</a>
                </li>
                <li>
                    <a class="page-scroll" href="#about2">How does it work?</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<!-- Intro Header -->
<header class="intro">
    <div class="intro-body">
        <div class="row">
                    <div id="container">
                        <svg id="fireflies"></svg>
                    </div>
                <a class="settings-button" onclick="toggleFilters()">
                    <i class="fa fa-cogs fa-4x"></i>
                </a>
            </div>
        <div class="" style="position:absolute; z-index: 1000; top:100px; left: 150px; width: 250px;">
            <a class="settings-button" onclick="toggleFilters()"><i class="fa fa-cogs fa-4x"></i> <h1>Settings</h1></a>
            <div id="settings" style="display: none;">
                <h4>Number of fireflies:</h4> <input type="range" id='inputNumFireflies' min=1 max=2000 value=500><br/>
                <h4>Speed:</h4> <input type="range" id='inputSpeed' min=50 max=1000 value=250><br/>
                <h4 class="reload-button" onclick="load()">Reload!</h4>
            </div>
        </div>
        </div>
</header>

<!-- About Section -->
<section id="about" class="container content-section text-center">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-1">
            <h2>What's this?</h2>
            <p>This is an example of self-organizing synchronization - how small local changes can produce a cool global effect.</p>
            <p>Try to remember a time you heard a bunch of people clap together - at a concert, play, football match.
                If you can't remember a time, listen out for it next time. The clapping starts out asynchronous,
                but quickly falls into a rhythm without anyone trying to do so.
            </p>
            <p>This kind of self-organizing behaviour can also be observed in nature: fireflies for instance end up blinking in unison during
                their mating ritual, which is what inspired the visualisation on this website! :)</p>
        </div>
    </div>
</section>

<section id="about2" class="container content-section text-center">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
            <h2>How does it work?</h2>
            <p>The algorithm itself is actually very simple. Each firefly loops though states 0-9, blinks at 9 and resets back to 0.</p>
            <p>So how does this effect the other fireflies? Simple, when a firefly blinks, then every other firefly that is at some
            distance of it (e.g. 100px) will reset to zero at their next time step (and thus be in sync with the firefly that just blinked!).</p>
            <p>Now you might think that this could easily lead into an infinite loop and you would be right, which is why there is an extra constraint:
            the neighboring fireflies are influenced by the blink ONLY if they are themselves in a state 6 or lower.</p>
            <p>Still suspicious? Well you shouldn't be. Scroll back up, that's all there is to the algorithm :)</p>
        </div>
    </div>
</section>

<!-- Footer -->
<footer>
    <div class="container">
        <p class="text-center">By <a href="https://github.com/kadikraman">Kadi Kraman</a>. Styling advice by <a href="https://github.com/MarcelCutts">Marcel Cutts</a>.</p>
    </div>
</footer>

<!-- jQuery -->
<script src="bower_components/jquery/dist/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="bower_components/jquery.easing/js/jquery.easing.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="js/grayscale.js"></script>

<!-- Fireflies! -->
<script type="text/javascript" src="bower_components/d3/d3.js"></script>
<script type="text/javascript" src="app.js"></script>

</body>

</html>
